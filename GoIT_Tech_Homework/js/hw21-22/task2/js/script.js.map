{"version":3,"sources":["src/script.js"],"names":[],"mappings":"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","file":"script.js","sourcesContent":["let testUp = {\r\n  testTitle: 'Тест по программированию',\r\n  btnTitle: 'Проверить мои результаты',\r\n  questions: [\r\n    {\r\n      title: 'Вопрос №1',\r\n      answers: [\r\n        {\r\n          text: 'Вариант ответа №1 +',\r\n          correct: true\r\n        },\r\n        {\r\n          text: 'Вариант ответа №2 -',\r\n          correct: false\r\n        },\r\n        {\r\n          text: 'Вариант ответа №3 -',\r\n          correct: false\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      title: 'Вопрос №2',\r\n      answers: [\r\n        {\r\n          text: 'Вариант ответа №1 +',\r\n          correct: true\r\n        },\r\n        {\r\n          text: 'Вариант ответа №2 -',\r\n          correct: false\r\n        },\r\n        {\r\n          text: 'Вариант ответа №3 +',\r\n          correct: true\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      title: 'Вопрос №3',\r\n      answers: [\r\n        {\r\n          text: 'Вариант ответа №1 -',\r\n          correct: false\r\n        },\r\n        {\r\n          text: 'Вариант ответа №2 -',\r\n          correct: false\r\n        },\r\n        {\r\n          text: 'Вариант ответа №3 +',\r\n          correct: true\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      title: 'Вопрос №4',\r\n      answers: [\r\n        {\r\n          text: 'Вариант ответа №1 +',\r\n          correct: true\r\n        },\r\n        {\r\n          text: 'Вариант ответа №2 +',\r\n          correct: true\r\n        },\r\n        {\r\n          text: 'Вариант ответа №3 -',\r\n          correct: false\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n};\r\n\r\nlet strTest = JSON.stringify(testUp);\r\nlocalStorage.setItem('strTest', strTest);\r\n\r\n$( () => {\r\n  let testData = JSON.parse(localStorage.getItem('strTest'));\r\n  let html = $('.tests-form').html();\r\n  let content = tmpl(html, testData);\r\n  let $body = $('body');\r\n\r\n  $body.append(content);\r\n\r\n  let amountRight = 0;\r\n  let amountBad = 0;\r\n  let $modal;\r\n  let $overlay;\r\n  let i = 0;\r\n\r\n  $('.test-btn').on('click', (e) => {\r\n\r\n    let amountRightAnswers = 0;\r\n    let amountCorrectAnswers =0;\r\n\r\n    e.preventDefault();\r\n    showModal();\r\n    $overlay.one('click', hideModal);\r\n\r\n    for (let questions of testData.questions) {\r\n      let input = $('input[data-index=' + i + ']');\r\n      let question = questions.title;\r\n      let correctAmount = 0;\r\n      let checkedElem = 0;\r\n      let j = 0;\r\n\r\n      for (let answers of questions.answers) {\r\n        let elem = input[j];\r\n        let answerVar = answers.correct;\r\n\r\n        if (answerVar === true) {\r\n          correctAmount += 1;\r\n        }\r\n        if ( elem.checked ) {\r\n          if ( answerVar === true ) {\r\n            amountRight += 1;\r\n          } else {\r\n            amountBad += 1;\r\n          }\r\n          checkedElem += 1;\r\n        } else {\r\n          amountBad += 1;\r\n        }\r\n        $(elem).removeAttr(\"checked\");\r\n        j++;\r\n      }\r\n\r\n        if(correctAmount == amountRight && amountRight !== 0 &&\r\n            amountBad != questions.answers.length &&\r\n            correctAmount == checkedElem) {\r\n          $modal.append('<h2 class=\"right\">' + question + '</h2>');\r\n          amountRightAnswers += amountRight;\r\n        } else {\r\n          $modal.append('<h2 class=\"wrong\">' + question + '</h2>');\r\n        }\r\n\r\n        amountCorrectAnswers += correctAmount;\r\n        correctAmount = 0;\r\n        amountRight = 0;\r\n        amountBad = 0;\r\n        i++;\r\n    }\r\n    i = 0;\r\n\r\n    let rightStatistic = Math.round((amountRightAnswers/amountCorrectAnswers)*100);\r\n    $modal.append('<h2>Правильных ответов - ' + rightStatistic + '%</h2>');\r\n\r\n  });\r\n\r\n  function showModal () {\r\n    $modal = $('<div class=\"res-modal\"><h1>Ваш результат :</h1></div>');\r\n    $overlay = $('<div class=\"overlay-modal\" title=\"Close results!\"></div>');\r\n    $body.append($overlay);\r\n    $body.append($modal);\r\n    $modal.animate({ top: \"50%\" }, 800);\r\n  }\r\n  function hideModal () {\r\n    $modal.animate({ top: \"-50%\" }, 800, () => {\r\n      $modal.remove();\r\n      $overlay.remove();\r\n    });\r\n  }\r\n});"]}